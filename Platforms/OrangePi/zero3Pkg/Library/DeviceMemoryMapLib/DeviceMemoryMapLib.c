#include <Library/DeviceMemoryMapLib.h>

STATIC
ARM_MEMORY_REGION_DESCRIPTOR_EX
gDeviceMemoryDescriptorEx[] = {
  // Name, Address, Length, HobOption, ResourceAttribute, ArmAttributes, ResourceType, MemoryType

  // DDR Regions
  {"Reserved",           0x40000000, 0x00080000, AddMem, SYS_MEM, UNCACHEABLE, Reserv, UNCACHED_UNBUFFERED},
  {"CPU Vectors",        0x40080000, 0x00001000, AddMem, SYS_MEM, SYS_MEM_CAP, BsData, WRITE_BACK},
  {"UEFI Stack",         0x40090000, 0x00040000, AddMem, SYS_MEM, SYS_MEM_CAP, BsData, WRITE_BACK},
  {"UEFI FD",            0x400D0000, 0x00200000, AddMem, SYS_MEM, SYS_MEM_CAP, BsData, WRITE_BACK},
  {"DXE Heap",           0x402D0000, 0x03C00000, AddMem, SYS_MEM, SYS_MEM_CAP, Conv,   WRITE_BACK},
  {"RAM Partition",      0x43ED0000, 0x1C130000, AddMem, SYS_MEM, SYS_MEM_CAP, Conv,   WRITE_BACK},

  // Register Regions
  {"Clock 0",		 0x01008000, 0x00001000, AddDev, MMAP_IO, UNCACHEABLE, MmIO,   DEVICE},
  {"Mixer 0",    	 0x01008100, 0x00001000, AddDev, MMAP_IO, UNCACHEABLE, MmIO,   DEVICE},
  {"Mixer 1",    	 0x01100000, 0x00100000, AddDev, MMAP_IO, UNCACHEABLE, MmIO,   DEVICE},
  {"Mixer 2",    	 0x01280000, 0x00020000, AddDev, MMAP_IO, UNCACHEABLE, MmIO,   DEVICE},
  {"Video Codec",    	 0x01C0E000, 0x00002000, AddDev, MMAP_IO, UNCACHEABLE, MmIO,   DEVICE},
  {"SYSCON",    	 0x03000000, 0x00001000, AddDev, MMAP_IO, UNCACHEABLE, MmIO,   DEVICE},
  {"Clock 1",		 0x03001000, 0x00001000, AddDev, MMAP_IO, UNCACHEABLE, MmIO,   DEVICE},
  {"DMA Controller",	 0x03002000, 0x00001000, AddDev, MMAP_IO, UNCACHEABLE, MmIO,   DEVICE},
  {"EFUSE",		 0x03006000, 0x00001000, AddDev, MMAP_IO, UNCACHEABLE, MmIO,   DEVICE},
  {"WDT",		 0x030090A0, 0x00001000, AddDev, MMAP_IO, UNCACHEABLE, MmIO,   DEVICE},
  {"PINCTRL 0",		 0x0300B000, 0x00001000, AddDev, MMAP_IO, UNCACHEABLE, MmIO,   DEVICE},
  {"GIC Distributor",    0x03021000, 0x00001000, AddDev, MMAP_IO, UNCACHEABLE, MmIO,   DEVICE},
  {"GIC Redistributors", 0x03022000, 0x00002000, AddDev, MMAP_IO, UNCACHEABLE, MmIO,   DEVICE},
  {"MMC 0",		 0x04020000, 0x00001000, AddDev, MMAP_IO, UNCACHEABLE, MmIO,   DEVICE},
  {"MMC 1",		 0x04021000, 0x00001000, AddDev, MMAP_IO, UNCACHEABLE, MmIO,   DEVICE},
  {"UART",    		 0x50000000, 0x00001000, AddDev, MMAP_IO, UNCACHEABLE, MmIO,   DEVICE},
  {"SPI",		 0x05010000, 0x00001000, AddDev, MMAP_IO, UNCACHEABLE, MmIO,   DEVICE},
  {"Ethernet",		 0x05020000, 0x00010000, AddDev, MMAP_IO, UNCACHEABLE, MmIO,   DEVICE},
  {"Thermal Sensors", 	 0x05070400, 0x00010000, AddDev, MMAP_IO, UNCACHEABLE, MmIO,   DEVICE},
  {"Codec", 	 	 0x05096000, 0x00001000, AddDev, MMAP_IO, UNCACHEABLE, MmIO,   DEVICE},
  {"Sunxi Sound", 	 0x05097000, 0x00001000, AddDev, MMAP_IO, UNCACHEABLE, MmIO,   DEVICE},
  {"USB 0",	 	 0x05100000, 0x00001000, AddDev, MMAP_IO, UNCACHEABLE, MmIO,   DEVICE},
  {"PHY Ctrl",	 	 0x05100400, 0x00001000, AddDev, MMAP_IO, UNCACHEABLE, MmIO,   DEVICE},
  {"PMU 0",	 	 0x05101800, 0x00001000, AddDev, MMAP_IO, UNCACHEABLE, MmIO,   DEVICE},
  {"USB 1/2 & PMU 1",    0x05200000, 0x00001000, AddDev, MMAP_IO, UNCACHEABLE, MmIO,   DEVICE},
  {"USB 3/4 & PMU 2",    0x05310000, 0x00001000, AddDev, MMAP_IO, UNCACHEABLE, MmIO,   DEVICE},
  {"USB 5/6 & PMU 3",    0x05311000, 0x00001000, AddDev, MMAP_IO, UNCACHEABLE, MmIO,   DEVICE},
  {"HDMI",               0x06000000, 0x00010000, AddDev, MMAP_IO, UNCACHEABLE, MmIO,   DEVICE},
  {"HDMI PHY",           0x06010000, 0x00010000, AddDev, MMAP_IO, UNCACHEABLE, MmIO,   DEVICE},
  {"TCON",               0x06510000, 0x00001000, AddDev, MMAP_IO, UNCACHEABLE, MmIO,   DEVICE},
  {"LCD Controller",     0x06515000, 0x00001000, AddDev, MMAP_IO, UNCACHEABLE, MmIO,   DEVICE},
  {"RTC",     		 0x07000000, 0x00001000, AddDev, MMAP_IO, UNCACHEABLE, MmIO,   DEVICE},
  {"Clock 2",            0x07010000, 0x00001000, AddDev, MMAP_IO, UNCACHEABLE, MmIO,   DEVICE},
  {"PINCTRL 1",		 0x07022000, 0x00001000, AddDev, MMAP_IO, UNCACHEABLE, MmIO,   DEVICE},
  {"Infrared Receiver",  0x07040000, 0x00001000, AddDev, MMAP_IO, UNCACHEABLE, MmIO,   DEVICE},
  {"I2C",  		 0x07081400, 0x00001000, AddDev, MMAP_IO, UNCACHEABLE, MmIO,   DEVICE},

  // Terminator for MMU
  {"Terminator", 0, 0, 0, 0, 0, 0, 0}
};

ARM_MEMORY_REGION_DESCRIPTOR_EX*
GetDeviceMemoryMap ()
{
  return gDeviceMemoryDescriptorEx;
}